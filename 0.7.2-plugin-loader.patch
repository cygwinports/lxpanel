--- origsrc/lxpanel-0.7.2/src/plugin.c	2014-10-22 18:00:18.000000000 -0500
+++ src/lxpanel-0.7.2/src/plugin.c	2014-11-25 13:07:35.619894800 -0600
@@ -169,7 +169,7 @@ static void plugin_load_dynamic(const ch
         || (strcmp(type, pc->type) != 0))			/* Then and only then access other fields; check name */
         {
             g_module_close(m);
-            g_warning("%s.so is not a lxpanel plugin", type);
+            g_warning("%s.%s is not a lxpanel plugin", type, G_MODULE_SUFFIX);
             return;
         }
 
@@ -207,9 +207,9 @@ static void plugin_get_available_classes
         const char * file;
         while ((file = g_dir_read_name(dir)) != NULL)
         {
-            if (g_str_has_suffix(file, ".so"))
+            if (g_str_has_suffix(file, "." G_MODULE_SUFFIX))
             {
-                char * type = g_strndup(file, strlen(file) - 3);
+                char * type = g_strndup(file, strlen(file) - strlen("." G_MODULE_SUFFIX));
                 if (_find_plugin(type) == NULL)
                 {
                     /* If it has not been loaded, do it.  If successful, add it to the result. */
